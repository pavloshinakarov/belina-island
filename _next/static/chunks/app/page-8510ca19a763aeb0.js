(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8728:function(e,t,n){Promise.resolve().then(n.bind(n,8212))},8212:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var i=n(7437),a=n(2265),s=n(7287);function o(){let[e,t]=(0,a.useState)(),[n,o]=(0,a.useState)(),[l,c]=(0,a.useState)(),[r,d]=(0,a.useState)(),[u,h]=(0,a.useState)(),[p,m]=(0,a.useState)(),[f,g]=(0,a.useState)(),[w,y]=(0,a.useState)(!1),[v,x]=(0,a.useState)(new Set),[E,S]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{u&&!w&&((async()=>{await J()})(),y(!0))},[u,w]),(0,a.useEffect)(()=>{let e=async e=>{let t=e.target;if(t){let{clientHeight:e,scrollHeight:n,scrollTop:i}=t.documentElement;if(e+i+1>=n){let e=document.querySelector(".image-container");e&&(e.querySelectorAll("img").length,await J())}(function(){let e=document.querySelector(".image-container");if(e){let t=e.querySelectorAll("img"),n=null,i=0;t.forEach(e=>{let t=e.getBoundingClientRect(),a=Math.min(t.bottom,window.innerHeight)-Math.max(t.top,0),s=Math.min(t.right,window.innerWidth)-Math.max(t.left,0),o=a>0&&s>0?a*s:0;o>i&&(n=e,i=o)}),t.forEach(e=>e.classList.remove("image-hover")),n&&n.classList.add("image-hover")}})()}};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[u]);let[j,b]=(0,a.useState)(""),M=async e=>{let t=await fetch(e?"https://api.nintondo.io/api/blocks/".concat(e):"https://api.nintondo.io/api/blocks");return await t.json()},k=async()=>{let e=[],t=await M();e.push(...t);for(let n=0;n<9;n++){let n=t[t.length-1].height-1;t=await M(n),e.push(...t)}G(e)},L=(e,t)=>Math.floor(Math.abs(t-e)/60),G=e=>{let t=0,n=1;e.forEach((i,a)=>{a>0&&(t+=L(e[a-1].timestamp,i.timestamp),n++)}),b((t/n).toFixed(2))},_=async()=>{let e=document.getElementById("loader");e&&(e.style.display="flex");let t=await fetch("https://api.nintondo.io/api/address/BEGJMVqLYRJkGwvwmsZDDjERpzxGqdyzXT/utxo").then(e=>e.json()).then(e=>e);e&&(e.style.display="none"),h(t)},q=async()=>{await fetch("https://api.nintondo.io/api/blocks").then(e=>e.json()).then(async e=>{m(e)})},N=async()=>{await fetch("https://api.nintondo.io/api/blocks/tip/height").then(e=>e.json()).then(async e=>{d(e)})},H=async()=>{await fetch("https://api.nintondo.io/api/stats/bells").then(e=>e.json()).then(e=>{c(e)})},B=async()=>{await fetch("https://api.nonkyc.io/api/v2/ticker/BEL_USDT").then(e=>e.json()).then(e=>{t(e)})};async function T(e,t){let n=(await fetch("https://content.nintondo.io/api/pub/content/"+e)).url,i=document.createElement("img");i.src=n;let a=document.querySelector(".image-container");a&&(a.appendChild(i),i.addEventListener("click",function(n){if(n.target){let i=document.querySelector(".view-image");if(i&&i instanceof HTMLElement){i.style.display="grid";let a=document.querySelector(".view-image img");a&&a instanceof HTMLImageElement&&n.target instanceof HTMLImageElement&&(a.src=n.target.src);let s=document.querySelector(".view-image .donation");s&&s instanceof HTMLElement&&(s.innerText=(t/1e8).toString());let o=document.querySelector(".view-image .address"),l="".concat(e.slice(0,4),"...").concat(e.slice(-4));o&&o instanceof HTMLElement&&(o.innerHTML='<a href="https://nintondo.io/belinals/'+e+'" target="_blank">'+l+"</a>")}}}))}async function I(e,t){let n=await fetch("https://content.nintondo.io/api/pub/search?page_size=60&page="+t+"&account="+e),i=await n.json(),a=["PNG","SVG","GIF","JPEG","JPG"],s=i.inscriptions.filter(e=>a.includes(e.file_type));return s.length>0?s[s.length-1]:null}async function P(e){if(!e)return;if(E.has(e))return null;E.add(e),S(E);let t=1,n=await fetch("https://content.nintondo.io/api/pub/search?page_size=60&page="+t+"&account="+e),i=await n.json(),a=null;if(i.pages>1){if((t=i.pages)>10)return null;a=await I(e,t)}else{let e=["PNG","SVG","GIF","JPEG","JPG"],t=i.inscriptions.filter(t=>e.includes(t.file_type));a=t.length>0?t[t.length-1]:null}for(;null==a&&t>1;)a=await I(e,t),t-=1;return a}(0,a.useEffect)(()=>{B(),H(),N(),_(),q(),k();let e=document.getElementById("viewImageCloseBtn");e&&e.addEventListener("click",function(){let e=document.querySelector(".view-image");e&&e instanceof HTMLElement&&(e.style.display="none")})},[]);let z=new Set;async function J(){if(!u||!document.querySelector(".image-container"))return;let e=1;z.size>0&&(e=Array.from(z)[z.size-1]+1),z.add(e);let t=u[e],n=document.getElementById("loader");n&&(n.style.display="flex");let i=await fetch("https://api.nintondo.io/api/tx/"+t.txid),a=await i.json();a.vin[a.vin.length-1].prevout.scriptpubkey_address;let s=a.vin[a.vin.length-1].prevout.value,o=await P(a.vin[a.vin.length-1].prevout.scriptpubkey_address);o?v.has(o.id)?await J():(v.add(o.id),x(v),await T(o.id,s),v.size<3&&await J()):await J(),n&&(n.style.display="none")}return(0,i.jsxs)("div",{className:"min-h-screen",children:[(0,i.jsx)(s.wp,{}),(0,i.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,id:"background-video",children:(0,i.jsx)("source",{src:"video/pexels_01.mp4",type:"video/mp4"})}),(0,i.jsxs)("div",{className:"view-image",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"objectFit",children:(0,i.jsx)("img",{src:"https://images.unsplash.com/photo-1668954206766-404e981f57f7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwyMHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=60.",alt:""})}),(0,i.jsxs)("div",{className:"belinial-description",children:[(0,i.jsxs)("div",{children:["Donated ",(0,i.jsx)("span",{className:"donation"})," BELS"]}),(0,i.jsxs)("div",{children:["Address ",(0,i.jsx)("span",{className:"address"})]})]})]}),(0,i.jsx)("span",{id:"viewImageCloseBtn",children:"X"})]}),(0,i.jsx)("div",{id:"parent-image-container",children:(0,i.jsx)("div",{className:"image-container"})}),(0,i.jsx)(s.aN,{})]})}}},function(e){e.O(0,[190,291,287,971,23,744],function(){return e(e.s=8728)}),_N_E=e.O()}]);